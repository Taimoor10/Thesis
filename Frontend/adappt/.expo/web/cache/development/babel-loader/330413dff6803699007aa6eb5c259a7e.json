{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/muhammadtaimoor/Projects/adappt/UI/claimsPage.js\";\nimport React, { useState, useEffect } from 'react';\nimport { claimsSwitch, setClaimsSwitch, fillQrCodeData } from \"../redux\";\nimport { connect } from 'react-redux';\nimport * as secureStore from 'expo-secure-store';\nimport * as LocalAuthentication from 'expo-local-authentication';\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Button } from 'react-native-elements';\nimport { colors } from \"../colorFile\";\nimport ClaimListItem from \"../claimComponent/ClaimListItem\";\nimport { retreiveClaims, deleteClaims } from \"../schema.js\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { showQrCode } from \"../redux/claims/clalimListType\";\n\nvar _Dimensions$get = Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nfunction AllClaimsPage(props) {\n  var _useState = useState(new Animated.Value(20)),\n      _useState2 = _slicedToArray(_useState, 1),\n      sliderValueHorizontal = _useState2[0];\n\n  var _useState3 = useState(new Animated.Value(80)),\n      _useState4 = _slicedToArray(_useState3, 1),\n      sliderValueStretch = _useState4[0];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      claims = _useState6[0],\n      setClaims = _useState6[1];\n\n  var isFocused = useIsFocused();\n\n  moveTabLeft = function moveTabLeft() {\n    props.changeClaim(claimsSwitch.validTab);\n    Animated.parallel([Animated.timing(sliderValueStretch, {\n      toValue: 70,\n      duration: 300\n    }).start(), Animated.timing(sliderValueHorizontal, {\n      toValue: 16,\n      duration: 300\n    }).start()]);\n  };\n\n  moveTabRight = function moveTabRight() {\n    props.changeClaim(claimsSwitch.expiredTab);\n    Animated.parallel([Animated.timing(sliderValueStretch, {\n      toValue: 90,\n      duration: 300\n    }).start(), Animated.timing(sliderValueHorizontal, {\n      toValue: 107,\n      duration: 300\n    }).start()]);\n  };\n\n  var getClaims = function getClaims() {\n    retreiveClaims().then(function (value) {\n      setClaims(value);\n    });\n  };\n\n  useEffect(function () {\n    getClaims();\n  }, [isFocused]);\n\n  resetCredentials = function resetCredentials() {\n    var userAuthentication = LocalAuthentication.authenticateAsync({\n      promptMessage: \"Touch to delete credentials\",\n      cancelLabel: \"Cancel\",\n      fallbackLabel: \"Use Pin\"\n    });\n    userAuthentication.then(function (onTouch) {\n      if (onTouch.success == true) {\n        deleteClaims();\n        getClaims();\n      } else if (onTouch.error == \"user_cancel\") {\n        console.log(\"Authentication Canceled\");\n      }\n    });\n  };\n\n  try {\n    return React.createElement(View, {\n      style: {\n        display: 'flex',\n        flex: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, React.createElement(View, {\n      style: tabStyles.pageLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }), React.createElement(View, {\n      style: tabStyles.topBar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }, React.createElement(View, {\n      style: tabStyles.credentials,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }\n    }, React.createElement(Text, {\n      style: {\n        color: colors.grey,\n        alignSelf: 'center',\n        fontSize: 30,\n        fontWeight: '500'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, \"Credentials\")), React.createElement(View, {\n      style: tabStyles.validTab,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, React.createElement(Button, {\n      title: \"Valid\",\n      buttonStyle: {\n        justifyContent: 'flex-start',\n        alignSelf: 'flex-start',\n        alignItems: 'flex-start',\n        backgroundColor: colors.transparent,\n        width: 90\n      },\n      titleStyle: {\n        fontSize: 20,\n        fontWeight: '500',\n        color: colors.grey\n      },\n      onPress: moveTabLeft,\n      onLongPress: moveTabLeft,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }), React.createElement(Button, {\n      title: \"Expired\",\n      buttonStyle: {\n        justifyContent: 'flex-start',\n        alignSelf: 'flex-start',\n        alignItems: 'flex-start',\n        backgroundColor: colors.transparent,\n        width: 90\n      },\n      titleStyle: {\n        fontSize: 20,\n        fontWeight: '500',\n        color: colors.grey\n      },\n      onPress: moveTabRight,\n      onLongPress: moveTabRight,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 25\n      }\n    })), React.createElement(View, {\n      style: tabStyles.barSwitch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, React.createElement(Animated.View, {\n      style: (tabStyles.barView, {\n        position: 'absolute',\n        height: 4,\n        backgroundColor: colors.white,\n        width: sliderValueStretch,\n        left: sliderValueHorizontal\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    })), React.createElement(View, {\n      style: {\n        flex: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, React.createElement(FlatList, {\n      scrollEnabled: true,\n      showsVerticalScrollIndicator: true,\n      data: claims,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return React.createElement(ClaimListItem, {\n          claim: item,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 55\n          }\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }), React.createElement(Button, {\n      onPress: resetCredentials,\n      title: \"Reset\",\n      buttonStyle: {\n        backgroundColor: colors.purple\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }))));\n  } catch (exception) {\n    return;\n  }\n}\n\nvar tabStyles = StyleSheet.create({\n  loginBtn: {\n    backgroundColor: colors.grey,\n    marginTop: 20,\n    height: 45,\n    borderRadius: 10\n  },\n  credentials: {\n    marginTop: 6,\n    paddingHorizontal: 12,\n    marginBottom: 10\n  },\n  pageLayout: {\n    backgroundColor: colors.purple,\n    width: '100%',\n    height: 100,\n    position: 'absolute',\n    paddingBottom: 0,\n    paddingTop: 8,\n    paddingLeft: 8,\n    marginTop: 0\n  },\n  topBar: {\n    position: 'absolute',\n    backgroundColor: colors.transparent,\n    width: '100%',\n    height: '100%',\n    paddingLeft: 0,\n    paddingRight: 0\n  },\n  barSwitch: {\n    height: 4,\n    width: '52.3%',\n    backgroundColor: colors.grey,\n    paddingLeft: 10,\n    paddingRight: 10,\n    marginBottom: 5,\n    marginTop: 0\n  },\n  barView: {\n    position: 'absolute',\n    marginRight: 20,\n    backgroundColor: colors.white,\n    height: 3\n  },\n  validTab: {\n    display: 'flex',\n    paddingLeft: 20,\n    flexDirection: 'row'\n  },\n  qrCodeView: {\n    position: 'absolute',\n    backgroundColor: 'white',\n    width: '90%',\n    height: '50%',\n    alignSelf: 'center',\n    justifyContent: 'center',\n    alignItems: 'center',\n    top: height * 0.25,\n    borderRadius: 13\n  }\n});\n\nvar switchClaims = function switchClaims(claims) {\n  if (claimsSwitch.validTab) {\n    return claims.filter(function (credential) {\n      return credential.valid == true;\n    });\n  } else if (claimsSwitch.expiredTab) {\n    return claims.filter(function (credential) {\n      return credential.valid == false;\n    });\n  } else {\n    throw Error;\n  }\n};\n\nvar mapClaims = function mapClaims(state) {\n  return {\n    claims: switchClaims(state.claim.claims, state.claimSwitches.filter)\n  };\n};\n\nvar dispatchClaims = function dispatchClaims(dispatch) {\n  return {\n    changeClaim: function changeClaim(claim) {\n      return dispatch(setClaimsSwitch(claim));\n    },\n    openQRCodeModal: function openQRCodeModal(data) {\n      return dispatch(fillQrCodeData(data));\n    }\n  };\n};\n\nexport default connect(mapClaims, dispatchClaims)(AllClaimsPage);","map":{"version":3,"sources":["/Users/muhammadtaimoor/Projects/adappt/UI/claimsPage.js"],"names":["React","useState","useEffect","claimsSwitch","setClaimsSwitch","fillQrCodeData","connect","secureStore","LocalAuthentication","Button","colors","ClaimListItem","retreiveClaims","deleteClaims","useIsFocused","showQrCode","Dimensions","get","height","AllClaimsPage","props","Animated","Value","sliderValueHorizontal","sliderValueStretch","claims","setClaims","isFocused","moveTabLeft","changeClaim","validTab","parallel","timing","toValue","duration","start","moveTabRight","expiredTab","getClaims","then","value","resetCredentials","userAuthentication","authenticateAsync","promptMessage","cancelLabel","fallbackLabel","onTouch","success","error","console","log","display","flex","tabStyles","pageLayout","topBar","credentials","color","grey","alignSelf","fontSize","fontWeight","justifyContent","alignItems","backgroundColor","transparent","width","barSwitch","barView","position","white","left","item","index","toString","purple","exception","StyleSheet","create","loginBtn","marginTop","borderRadius","paddingHorizontal","marginBottom","paddingBottom","paddingTop","paddingLeft","paddingRight","marginRight","flexDirection","qrCodeView","top","switchClaims","filter","credential","valid","Error","mapClaims","state","claim","claimSwitches","dispatchClaims","dispatch","openQRCodeModal","data"],"mappings":"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","sourcesContent":["/*\nThe code implemented in the file is inspired by a project under MIT license and implemented according to the\nrequirements of the developed application.\nThe project is used as a research and study to implement a user interface for the application. Moreover, several\nelements were also used and utilised for designing a user interface\n\nDetails:\nauthor: \"KhimGurung\",\ntitle: \"rn-onlineticket\",\nURL: \"https://github.com/KhimGurung/rn-onlineticket\",\nLicense: \"MIT\"\n*/\n\n\nimport React, { useState, useEffect } from 'react';\nimport { claimsSwitch, setClaimsSwitch, fillQrCodeData } from '../redux';\nimport { connect } from 'react-redux';\nimport * as secureStore from 'expo-secure-store';\nimport * as LocalAuthentication from 'expo-local-authentication'\nimport { Dimensions, View, Text, StyleSheet, Animated, FlatList } from 'react-native';\nimport { Button, } from 'react-native-elements';\nimport { colors } from '../colorFile';\n\nimport ClaimListItem from \"../claimComponent/ClaimListItem\";\nimport { retreiveClaims, deleteClaims } from \"../schema.js\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { showQrCode } from '../redux/claims/clalimListType';\n\nlet { height, } = Dimensions.get('window');\n\nfunction AllClaimsPage(props) {\n\n    let [sliderValueHorizontal] = useState(new Animated.Value(20));\n    let [sliderValueStretch] = useState(new Animated.Value(80));\n    let [claims, setClaims] = useState([]);\n    let isFocused = useIsFocused();\n\n    moveTabLeft = () => {\n        props.changeClaim(claimsSwitch.validTab);\n        Animated.parallel([\n            Animated.timing(sliderValueStretch, {\n                toValue: 70,\n                duration: 300,\n            }).start(),\n            Animated.timing(sliderValueHorizontal, {\n                toValue: 16,\n                duration: 300,\n            }).start()\n        ]);\n    }\n    moveTabRight = () => {\n        props.changeClaim(claimsSwitch.expiredTab);\n        Animated.parallel([\n            Animated.timing(sliderValueStretch, {\n                toValue: 90,\n                duration: 300,\n            }).start(),\n            Animated.timing(sliderValueHorizontal, {\n                toValue: 107,\n                duration: 300,\n            }).start()\n        ]);\n    }\n\n    const getClaims = () => {\n        retreiveClaims().then(value => {\n            setClaims(value);\n        })\n    }\n\n    useEffect(() => {\n        getClaims()\n    }, [isFocused]);\n\n    resetCredentials = () => {\n        const userAuthentication = LocalAuthentication.authenticateAsync({ promptMessage: \"Touch to delete credentials\", cancelLabel: \"Cancel\", fallbackLabel: \"Use Pin\" })\n        userAuthentication.then((onTouch) => {\n            if (onTouch.success == true) {\n                deleteClaims()\n                getClaims()\n            }\n            else if (onTouch.error == \"user_cancel\") {\n                console.log(\"Authentication Canceled\")\n            }\n        })\n    }\n\n\n    try {\n        return (\n            <View style={{ display: 'flex', flex: 1 }}>\n                <View style={tabStyles.pageLayout}></View>\n                <View style={tabStyles.topBar}>\n                    <View style={tabStyles.credentials}>\n                        <Text style={{ color: colors.grey, alignSelf: 'center', fontSize: 30, fontWeight: '500' }}>\n                            Credentials\n                    </Text>\n                    </View>\n                    <View style={tabStyles.validTab}>\n                        <Button title=\"Valid\"\n                            buttonStyle={{ justifyContent: 'flex-start', alignSelf: 'flex-start', alignItems: 'flex-start', backgroundColor: colors.transparent, width: 90 }}\n                            titleStyle={{ fontSize: 20, fontWeight: '500', color: colors.grey, }}\n                            onPress={moveTabLeft}\n                            onLongPress={moveTabLeft}\n                        />\n                        <Button title=\"Expired\"\n                            buttonStyle={{ justifyContent: 'flex-start', alignSelf: 'flex-start', alignItems: 'flex-start', backgroundColor: colors.transparent, width: 90 }}\n                            titleStyle={{ fontSize: 20, fontWeight: '500', color: colors.grey }}\n                            onPress={moveTabRight}\n                            onLongPress={moveTabRight}\n                        />\n                    </View>\n\n                    <View style={tabStyles.barSwitch}>\n                        <Animated.View style={tabStyles.barView, {\n                            position: 'absolute', height: 4, backgroundColor: colors.white,\n                            width: sliderValueStretch, left: sliderValueHorizontal\n                        }} />\n                    </View>\n\n                    <View style={{ flex: 1, }}>\n                        <FlatList scrollEnabled\n                            showsVerticalScrollIndicator={true}\n                            data={claims}\n                            keyExtractor={(item, index) => index.toString()}\n                            renderItem={({ item }) => <ClaimListItem claim={item} />} />\n                        <Button onPress={resetCredentials} title=\"Reset\"\n                            buttonStyle={{ backgroundColor: colors.purple }} />\n                    </View>\n                </View>\n            </View>\n        );\n    }\n    catch (exception) {\n        return\n    }\n}\n\nconst tabStyles = StyleSheet.create({\n    loginBtn: {\n        backgroundColor: colors.grey,\n        marginTop: 20,\n        height: 45,\n        borderRadius: 10\n    },\n    credentials: {\n        marginTop: 6,\n        paddingHorizontal: 12,\n        marginBottom: 10\n    },\n    pageLayout: {\n        backgroundColor: colors.purple,\n        width: '100%',\n        height: 100,\n        position: 'absolute',\n        paddingBottom: 0,\n        paddingTop: 8,\n        paddingLeft: 8,\n        marginTop: 0\n    },\n    topBar: {\n        position: 'absolute',\n        backgroundColor: colors.transparent,\n        width: '100%',\n        height: '100%',\n        paddingLeft: 0,\n        paddingRight: 0\n    },\n    barSwitch: {\n        height: 4,\n        width: '52.3%',\n        backgroundColor: colors.grey,\n        paddingLeft: 10,\n        paddingRight: 10,\n        marginBottom: 5,\n        marginTop: 0\n    },\n    barView: {\n        position: 'absolute',\n        marginRight: 20,\n        backgroundColor: colors.white,\n        height: 3,\n\n    },\n    validTab: {\n        display: 'flex',\n        paddingLeft: 20,\n        flexDirection: 'row'\n    },\n    qrCodeView: {\n        position: 'absolute',\n        backgroundColor: 'white',\n        width: '90%',\n        height: '50%',\n        alignSelf: 'center',\n        justifyContent: 'center',\n        alignItems: 'center',\n        top: height * 0.25,\n        borderRadius: 13,\n    }\n});\n\nlet switchClaims = (claims) => {\n\n    if (claimsSwitch.validTab) {\n        return claims.filter(credential => credential.valid == true);\n    }\n    else if (claimsSwitch.expiredTab) {\n        return claims.filter(credential => credential.valid == false);\n    }\n    else {\n        throw Error\n    }\n\n}\n\nlet mapClaims = state => {\n    return {\n        \n        claims: switchClaims(state.claim.claims, state.claimSwitches.filter)\n        \n    }\n}\n\nlet dispatchClaims = dispatch => {\n    return {\n        changeClaim: claim => dispatch(setClaimsSwitch(claim)),\n        openQRCodeModal: data => dispatch(fillQrCodeData(data)),\n    }\n}\n\nexport default connect(mapClaims, dispatchClaims)(AllClaimsPage);"]},"metadata":{},"sourceType":"module"}